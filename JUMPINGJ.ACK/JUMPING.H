/* Defines */

#define TRUE (-1)
#define FALSE 0
#define WI_KIND	(MOVER|CLOSER|NAME)
#define NIL (-1)
#define NULL 0L
#define NO_WINDOW (-1)

#define MAXX 500
#define MAXY 370
#define MAXHOLE 8
#define MAXMONSTER 4
#define MAXLEVEL 8
#define STAND 1
#define WALK1L 2
#define WALK2L 3
#define WALK3L 4
#define WALK4L 5
#define WALK5L 6
#define WALK1R 7
#define WALK2R 8
#define WALK3R 9
#define WALK4R 10
#define WALK5R 11
#define JUMP1 12
#define JUMP2 13
#define JUMP3 14
#define FALL1 15
#define FALL2 16
#define SITL1 17
#define SITL2 18
#define SITR1 19
#define SITR2 20
#define SITF1 21
#define SITF2 22
#define DEADL 23
#define DEADR 24

#define STEP 6

/* Redeclarations */

void draw_proc(int,int,int,int);

/* Globals */

		/* GEM stuff */

int gl_apid; /* Application number */

int gl_hchar;
int gl_wchar;
int gl_wbox;
int gl_hbox; /* system sizes */

int phys_handle;/* physical workstation handle */
int handle; 	/* virtual workstation handle */
int wi_handle; /* window handle */
int top_window; /* handle of topped window */

int xdesk,ydesk,hdesk,wdesk;
int xwork,ywork,hwork,wwork;
int xwind,ywind,hwind,wwind;	 /* desktop and work areas */

int msgbuff[8]; /* event message buffer */
int keycode;	/* keycode returned by event-keyboard */
int mx,my,mb;	/* mouse x and y pos. */
int ret; 		/* dummy return variable */

int hidden; 	/* current state of cursor */

int fulled; 	/* current state of window */

int contrl[12];
int intin[128];
int ptsin[128];
int intout[128];
int ptsout[128];	/* storage wasted for idiotic bindings */

int work_in[11];	/* Input to GSX parameter array */
int work_out[57]; /* Output from GSX parameter array */
int pxyarray[10]; /* input point array */

		/* GAME stuff */

int helpic[156][15]={
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
32767,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,64,0,0,0,0,0,0,7,-8192,1,
20284,-1561,-32629,-7108,999,15360,0,0,0,0,0,0,56,7168,1,
18594,-32248,138,1058,520,-24000,0,0,0,0,0,0,64,512,1,
20284,-3641,251,-15300,968,-17408,0,0,0,0,0,32640,128,256,1,
18472,-32736,-32630,1056,520,-22464,0,0,0,0,3,-32704,256,256,1,
18470,-1073,139,-6240,519,9728,0,0,0,0,28,32,512,256,1,
16384,0,0,0,0,64,0,0,0,0,96,16,512,256,1,
16384,0,0,0,0,0,0,0,0,0,128,8,512,256,1,
16384,0,0,0,0,64,0,0,0,0,128,4,1024,512,1,
16509,5007,279,-12484,-7201,0,0,0,0,31,-32640,4,1025,-1024,1,
16401,4368,436,4161,5136,64,0,0,0,32,16512,2,1026,0,1,
16401,-3826,343,-29127,-2850,0,0,0,0,32,16448,2,1028,0,1,
16401,4353,276,261,5200,64,0,0,0,64,16448,15362,2056,0,1,
16401,5022,279,-8583,5087,0,0,0,15,-32704,16448,17153,2056,0,1,
16384,0,0,0,0,64,0,0,16,16512,16416,16513,2064,0,1,
16384,0,0,0,0,0,0,0,32,16512,16416,16449,2064,0,1,
21845,21845,21845,21845,21845,21824,0,0,32,8448,-32736,8257,2064,0,1,
16384,0,0,0,0,0,0,0,16,8448,-32736,8257,2064,0,1,
16384,0,0,0,0,0,0,0,8,4608,-32736,8257,2064,0,1,
16384,0,0,0,0,0,0,0,4,4609,16,4225,2064,0,1,
16384,0,0,0,0,0,0,0,4,2561,16,4225,2064,0,1,
16384,0,0,0,0,0,0,0,2,1026,16,4353,2064,0,1,
16384,0,0,0,0,0,0,0,2,1026,16,2305,2064,0,1,
16384,0,0,0,0,0,0,0,1,4,16,2562,2064,0,1,
16384,0,0,0,0,0,0,0,1,8,8,1026,2064,0,1,
16384,0,0,0,0,0,0,0,1,8,8,2,2064,0,1,
16384,0,0,0,0,0,0,0,0,-32752,8,4,1040,0,1,
16384,0,0,0,0,0,0,0,0,-32752,8,4,1032,0,1,
16384,0,0,0,0,0,0,0,0,-32736,8,8,1032,0,1,
16384,0,0,0,0,0,0,0,0,-32736,4,16,1032,448,1,
16384,0,0,0,0,0,0,0,0,16416,4,32,516,544,1,
16384,0,0,0,0,0,0,0,0,16408,4,32,516,1056,1,
16384,0,0,0,0,0,0,0,0,16390,4,16,514,6160,1,
16384,0,0,0,0,0,0,0,0,16385,-32764,8,257,-8176,1,
16384,0,0,0,0,0,0,0,0,16384,24580,4,256,16,1,
16384,0,0,0,0,0,0,0,0,16384,4100,2,128,16,1,
16384,0,0,0,0,0,0,0,0,16384,2052,1,128,32,1,
16384,0,0,0,0,0,0,0,0,16384,1028,0,-32704,32,1,
16576,0,384,0,192,6,6,0,0,8192,514,0,16432,64,1,
16576,0,0,0,192,6,6,0,0,8192,258,384,16396,384,1,
16582,28647,-15993,-15392,195,-15930,24583,-14752,0,8192,130,576,8195,-512,1,
16582,28086,24966,26208,196,25382,-16378,26208,0,8240,130,544,8192,0,1,
16582,28086,24966,26208,195,-7417,-32762,26208,0,8232,130,544,4096,0,1,
16582,28086,24966,26208,198,25351,6,26208,0,8228,258,528,4096,0,1,
16582,28086,24966,26208,198,25351,-32762,26208,0,8228,258,528,2048,0,1,
17606,28086,24966,26208,1222,25382,-16378,26208,0,8226,514,528,2048,0,1,
17283,-4681,-15994,25568,899,-7738,24583,-15392,0,8226,1026,520,2048,0,1,
16384,6,0,96,0,0,0,96,0,8225,2050,520,2048,0,1,
16384,6,0,1120,0,0,0,1120,0,4129,4098,520,4096,0,1,
16384,0,0,960,0,0,0,960,0,4032,-8190,519,-8192,0,1,
16384,0,0,0,0,0,0,0,0,0,1,-1024,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,-4096,0,1,
16384,0,0,0,0,0,0,0,0,0,0,1,-30720,0,1,
16384,0,0,0,0,0,0,0,0,0,0,1,-32525,-1808,-8191,
16384,0,0,0,0,0,0,0,0,0,0,1,-32485,28057,-28671,
16384,0,0,0,0,0,0,0,0,0,0,1,-18181,28057,-16383,
16384,0,0,0,0,0,0,0,0,0,0,1,-26213,28152,-8191,
16384,0,0,0,0,0,0,0,0,0,0,1,-26213,28032,28673,
17392,0,0,992,-16384,-16192,192,24576,192,8192,0,1,-26213,28041,12289,
16432,0,0,816,0,192,0,0,0,16384,0,0,-1797,27888,-8191,
16433,-7759,-7200,816,-14352,-15903,-20288,25059,12481,-8192,0,0,0,0,1,
16483,12738,13104,816,-14632,-16191,-16192,25395,12483,4096,0,0,0,0,1,
16579,12673,-3280,816,-14632,-16191,-32576,25395,12483,0,0,0,0,0,1,
16771,12675,13104,816,-14632,-16191,-32576,25587,12483,0,0,0,0,0,1,
17155,12675,13104,816,-14632,-16191,-32576,25347,12483,0,0,0,0,0,1,
17155,12675,13104,816,-14632,-16191,-32576,25363,8387,4288,0,0,0,0,1,
17393,-7807,-3280,992,-14632,-16287,-32576,25059,-16191,-8000,0,0,0,0,1,
16384,0,0,0,0,0,0,24576,0,64,0,0,0,0,1,
16384,0,0,0,0,0,2,24576,0,128,0,0,0,0,1,
16384,0,0,0,0,0,1,-16384,0,0,0,0,0,0,1,
16904,496,24576,0,0,-8192,0,1,-3600,-8192,0,0,0,0,1,
17176,408,0,0,1,-28672,0,1,-26215,-28672,0,0,0,0,1,
17336,-9832,25072,241,-4095,-32527,-1805,-2047,-26215,-32768,0,0,0,0,1,
17400,-7784,24984,409,-26623,-15976,6427,27649,-26215,-16384,0,0,0,0,1,
17128,-15888,24984,409,-26624,-7784,12539,27649,-3600,-8192,0,0,0,0,1,
16968,-15976,24984,409,-26624,29176,24987,27649,-26216,28672,0,0,0,0,1,
16904,-15976,24984,409,-26624,12672,-15973,27649,-26216,12288,0,0,0,0,1,
16904,-15976,24984,409,-26623,12681,-32357,27649,-26215,12288,0,0,0,0,1,
16904,-15888,24984,241,-26624,-7951,-1797,27649,-3600,-8192,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16871,8945,-4224,29223,7233,-12528,-2033,-25360,1924,28672,0,0,0,0,1,
16904,-23926,2048,-30168,-30654,10384,-32760,8840,2572,-26624,0,0,0,0,1,
16840,-23822,3840,-1489,-30653,-4336,-4081,8944,1796,-22528,0,0,0,0,1,
16424,-23902,2048,-30392,-30654,10384,-32760,8864,644,-14336,0,0,0,0,1,
17351,7833,-4224,-30584,-25478,12062,-2040,7320,3844,28672,0,0,0,0,1,
16384,0,0,0,0,0,0,0,512,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
21845,21845,21845,21845,21845,21845,21845,21845,21845,21845,21845,21845,21845,21845,21845,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16927,32241,-32744,-7808,6417,-32743,-3712,15639,-32735,-2081,4,20036,-2112,8695,-8447,
16912,16449,-32743,4480,6545,-32744,4480,16660,16417,1028,6,-11963,1024,8452,1025,
16926,30784,49,4864,12627,48,8960,16663,-32735,-6268,5,20804,-6272,8679,-31743,
16912,16449,-32767,4102,304,1536,16390,16661,33,1028,6148,20804,5120,8452,1025,
17375,16449,-32768,-8186,272,1536,16390,15604,-16323,-3068,6148,20029,-6208,15860,1025,
16384,0,0,12,0,3072,12,0,7936,0,12288,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
18318,15639,-14823,-7808,6417,-32744,-7808,15639,-32648,-7215,31748,20036,-2112,30947,-11907,
17476,16657,1561,4480,6577,-32743,4480,16660,16452,17425,4102,-11963,1024,17476,4369,
18308,19953,49,-7424,12627,48,-3328,16663,-32648,17631,4101,20804,-6272,30788,-8431,
17668,17681,1537,6,272,1536,4102,16661,80,17489,4196,20804,5120,20548,20753,
17614,15633,1537,6,272,1536,-8186,15604,-16308,-7215,4196,20029,-6208,19683,-12015,
16384,0,0,12,0,3072,12,0,7936,0,192,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16465,17889,-32744,384,6369,-32643,6111,30723,-11912,1118,483,-28859,-4066,17911,-12731,
16465,27921,-32744,384,6417,-32703,-28400,17412,4420,1105,273,4164,16401,17473,4453,
16465,21984,48,768,12515,121,20766,30724,4472,1118,481,4988,16414,17473,4437,
17489,17665,-32768,6,272,1601,12560,20580,4432,1104,6465,4420,16401,17473,4429,
17295,17665,-32768,6,224,1661,4383,19555,-12468,976,6451,-28860,16414,15425,3653,
16384,0,0,12,0,3072,0,192,1,-4096,12288,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16879,-25357,-8162,-1585,3074,10428,28672,8818,10174,967,16008,3874,-1049,8824,1,
16898,8840,-32736,8744,-29694,11426,-30720,13962,10272,552,-30584,2210,8328,-19840,1,
16834,16112,-32740,8751,2,10914,-30720,10890,10044,968,-30472,3874,8328,-21904,1,
16418,8864,-31998,8744,3074,10658,-30528,8842,8352,552,-30584,2210,8328,-23032,1,
17346,8856,-31940,8648,3073,-5956,28864,8817,-4290,967,2184,3870,8327,8944,1,
16384,0,1536,0,0,0,384,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
16384,0,0,0,0,0,0,0,0,0,0,0,0,0,1,
32767,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

long stand[32]={				0xff000,0x1ff800,0x3ffc00,0x381c00,
								0x324c00,0x25a400,0x25a400,0x224400,
								0x200400,0x124800,0x118800,0xc3000,
								0x3c000,0x18000,0xe7000,0x300c00,
								0x400200,0x418200,0x500a00,0x518a00,
								0x500a00,0x518a00,0x500a00,0x5ffa00,
								0x700e00,0x718e00,0x318c00,0x99000,
								0x99000,0x99000,0x1ff800,0x1ff800};

long jump[3][32]={				0x0,0xff000,0x1ff800,0x3ffc00,
								0x381c00,0x324c00,0x25a400,0x25a400,
								0x224400,0x200400,0x100800,0x13c800,
								0xc3000,0x3c000,0x18000,0xe7000,
								0x300c00,0x400200,0x418200,0x900900,
								0xb18d00,0x1300c80,0x1518a80,0x1500a80,
								0x1dffb80,0x1900980,0x218400,0x424200,
								0x442200,0x242400,0x7c3e00,0x7c3e00,
								0xff000,0x1ff800,0x3ffc00,0x381c00,
								0x324c00,0x25a400,0x25a400,0x224400,
								0x200400,0x124800,0x118800,0xc3000,
								0x3c000,0x18000,0xe7000,0x300c00,
								0xc00300,0x30180c0,0xcf00f30,0xf1188f0,
								0x100800,0x118800,0x100800,0x1ff800,
								0x100800,0x118800,0x118800,0x99000,
								0x99000,0x99000,0x1ff800,0x1ff800,
								0xff000,0x1ff800,0x3ffc00,0x381c00,
								0x324c00,0x25a400,0x25a400,0x224400,
								0x200400,0x124800,0x118800,0xc3000,
								0x3c000,0x18000,0xe7000,0xf00f00,
								0xf0000f0,0x18018018,0x1fe007f8,0x118800,
								0x100800,0x118800,0x100800,0x1ff800,
								0x100800,0x118800,0x118800,0x99000,
								0x99000,0x99000,0x1ff800,0x1ff800};

long fall[2][32]={				0xff000,0x1ff800,0x3ffc00,0x381c00,
								0x324c00,0x25a400,0x25a400,0x224400,
								0x200400,0x100800,0x118800,0xc3000,
								0x3c000,0x18000,0xe7000,0x300c00,
								0xc00300,0x30180c0,0xcf00f30,0xf1188f0,
								0x100800,0x118800,0x100800,0x1ff800,
								0x100800,0x118800,0x118800,0x99000,
								0x99000,0x99000,0x1ff800,0x1ff800,
								0xff000,0x1ff800,0x3ffc00,0x381c00,
								0x324c00,0x25a400,0x25a400,0x224400,
								0x200400,0x100800,0x118800,0xc3000,
								0x3c000,0x18000,0xe7000,0xf00f00,
								0xf0000f0,0x18018018,0x1fe007f8,0x118800,
								0x100800,0x118800,0x100800,0x1ff800,
								0x100800,0x118800,0x118800,0x99000,
								0x99000,0x99000,0x1ff800,0x1ff800};

long walk_left[5][32]={ 		0x3e00000,0x1f80000,0x6fc0000,0x87e0000,
								0x93e0000,0x129f0000,0x328f0000,0x41070000,
								0x30430000,0xf858000,0x804c000,0x6184000,
								0x1e00000,0xc00000,0x1200000,0x2100000,
								0x4d00000,0x5280000,0x9180000,0x18880000,
								0x28640000,0x68120000,0xf80b0000,0xe7ff8000,
								0x4138000,0x8300000,0x8480000,0x10840000,
								0xd1460000,0xf22f0000,0x7c1e0000,0x383c0000,
								0x3e00000,0x1f80000,0x6fc0000,0x87e0000,
								0x93e0000,0x129f0000,0x328f0000,0x41070000,
								0x30430000,0xf858000,0x804c000,0x6184000,
								0x1e00000,0xc00000,0x1200000,0x2100000,
								0x4d00000,0x5280000,0x9180000,0x8980000,
								0x8980000,0x8480000,0x8480000,0xff80000,
								0x4300000,0x4100000,0x8300000,0x8480000,
								0x708c0000,0x795e0000,0x3e3c0000,0x1c780000,
								0x3e00000,0x1f80000,0x6fc0000,0x87e0000,
								0x93e0000,0x129f0000,0x328f0000,0x41070000,
								0x30430000,0xf858000,0x804c000,0x6184000,
								0x1e00000,0xc00000,0x1200000,0x2100000,
								0x4d00000,0x5280000,0x9280000,0x9280000,
								0x8a80000,0x8a80000,0x8a80000,0x7b80000,
								0x2f00000,0x2700000,0x1100000,0x1100000,
								0x900000,0x600000,0x3f00000,0x3f00000,
								0x3e00000,0x1f80000,0x6fc0000,0x87e0000,
								0x93e0000,0x129f0000,0x328f0000,0x41070000,
								0x30430000,0xf858000,0x804c000,0x6184000,
								0x1e00000,0xc00000,0x1200000,0x2100000,
								0x4d00000,0x5280000,0x9280000,0xa280000,
								0xa480000,0xc880000,0x9080000,0xff80000,
								0xc100000,0x6100000,0x9080000,0x8880000,
								0x70c60000,0x792f0000,0x3e1e0000,0x1c3c0000,
								0x3e00000,0x1f80000,0x6fc0000,0x87e0000,
								0x93e0000,0x129f0000,0x328f0000,0x41070000,
								0x30430000,0xf858000,0x804c000,0x6184000,
								0x1e00000,0xc00000,0x1200000,0x2100000,
								0x5d00000,0x6280000,0x4280000,0x84c0000,
								0x108a0000,0x23090000,0x4c0f8000,0xf7fb8000,
								0xe4100000,0xa100000,0x9080000,0x10880000,
								0xd1460000,0xf22f0000,0x7c1e0000,0x3c3c0000};

long walk_right[5][32]={		0x7c0,0x1f80,0x3f60,0x7e10,
								0x7c90,0xf948,0xf14c,0xe082,
								0xc20c,0x1a1f0,0x32010,0x21860,
								0x780,0x300,0x480,0x840,
								0xb20,0x14a0,0x1890,0x1118,
								0x2614,0x4816,0xd01f,0x1ffe7,
								0x1c820,0xc10,0x1210,0x2108,
								0x628b,0xf44f,0x783e,0x3c1c,
								0x7c0,0x1f80,0x3f60,0x7e10,
								0x7c90,0xf948,0xf14c,0xe082,
								0xc20c,0x1a1f0,0x32010,0x21860,
								0x780,0x300,0x480,0x840,
								0xb20,0x14a0,0x1890,0x1910,
								0x1910,0x1210,0x1210,0x1ff0,
								0xc20,0x820,0xc10,0x1210,
								0x310e,0x7a9e,0x3c7c,0x1e38,
								0x7c0,0x1f80,0x3f60,0x7e10,
								0x7c90,0xf948,0xf14c,0xe082,
								0xc20c,0x1a1f0,0x32010,0x21860,
								0x780,0x300,0x480,0x840,
								0xb20,0x14a0,0x1490,0x1490,
								0x1510,0x1510,0x1510,0x1de0,
								0xf40,0xe40,0x880,0x880,
								0x900,0x600,0xfc0,0xfc0,
								0x7c0,0x1f80,0x3f60,0x7e10,
								0x7c90,0xf948,0xf14c,0xe082,
								0xc20c,0x1a1f0,0x32010,0x21860,
								0x780,0x300,0x480,0x840,
								0xb20,0x14a0,0x1490,0x1450,
								0x1250,0x1130,0x1090,0x1ff0,
								0x830,0x860,0x1090,0x1110,
								0x630e,0xf49e,0x787c,0x3c38,
								0x7c0,0x1f80,0x3f60,0x7e10,
								0x7c90,0xf948,0xf14c,0xe082,
								0xc20c,0x1a1f0,0x32010,0x21860,
								0x780,0x300,0x480,0x840,
								0xba0,0x1460,0x1420,0x3210,
								0x5108,0x90c4,0x1f032,0x1dfef,
								0x827,0x850,0x1090,0x1108,
								0x628b,0xf44f,0x783e,0x3c3c};

long sit_for[2][32]={			0x800,0x201c00,0x700800,0x200000,
								0x0,0xff000,0x1ff840,0x13ffce0,
								0x3b81c40,0x1324c00,0x25a400,0x25a400,
								0x224400,0x200400,0x100800,0x118800,
								0xc3000,0x3c000,0x18000,0xe7000,
								0x300c00,0x400200,0x418200,0x900900,
								0x918900,0xb00d00,0xb18d00,0xfc3f00,
								0xdffb00,0x1e7800,0x1ff800,0xe7000,
								0x20000,0x70000,0x20100,0x2000380,
								0x7000100,0x20ff000,0x1ff800,0x3ffc00,
								0x381c00,0x324d00,0x25a780,0x25a500,
								0x224400,0x200400,0x100800,0x118800,
								0xc3000,0x3c000,0x18000,0xe7000,
								0x300c00,0x400200,0x418200,0x900900,
								0x918900,0xb00d00,0xb18d00,0xfc3f00,
								0xdffb00,0x1e7800,0x1ff800,0xe7000};

long sit_left[2][32]={			0x40000,0x80e0000,0x1c040000,0x8000800,
								0xfc1c00,0x7e0800,0x1bf0000,0x21f8000,
								0x24f8000,0x4a7c000,0xca3c000,0x1041c000,
								0xc00c000,0x3e16000,0x2113000,0x1861000,
								0x780000,0x300000,0x480000,0x840000,
								0x1340000,0x14a0000,0x24a0000,0x24a0000,
								0x22a0000,0x22a0000,0xc22a0000,0xc1ee0000,
								0xde3c0000,0xe01a0000,0xe0020000,0xdffc0000,
								0x400000,0xe04000,0x40e000,0x4000,
								0x4fc0000,0xe7e2000,0x5bf7000,0x21fa000,
								0x24f8000,0x4a7c000,0xca3c000,0x1041c000,
								0xc00c000,0x3e16000,0x2113000,0x1861000,
								0x780000,0x300000,0x480000,0x840000,
								0x1340000,0x14a0000,0x24a0000,0x24a0000,
								0x22a0000,0x22a0000,0xc22a0000,0xc1ee0000,
								0xde3c0000,0xe01a0000,0xe0020000,0xdffc0000};

long sit_right[2][32]={ 		0x2000,0x7010,0x2038,0x100010,
								0x383f00,0x107e00,0xfd80,0x1f840,
								0x1f240,0x3e520,0x3c530,0x38208,
								0x30030,0x687c0,0xc8840,0x86180,
								0x1e00,0xc00,0x1200,0x2100,
								0x2c80,0x5280,0x5240,0x5240,
								0x5440,0x5440,0x5443,0x7783,
								0x3c7b,0x5807,0x4007,0x3ffb,
								0x200,0x20700,0x70200,0x20000,
								0x3f20,0x47e70,0xefda0,0x5f840,
								0x1f240,0x3e520,0x3c530,0x38208,
								0x30030,0x687c0,0xc8840,0x86180,
								0x1e00,0xc00,0x1200,0x2100,
								0x2c80,0x5280,0x5240,0x5240,
								0x5440,0x5440,0x5443,0x7783,
								0x3c7b,0x5807,0x4007,0x3ffb};

long monstersprite[MAXMONSTER][4][32]={
								0x0,0xf00,0x70e0,0x18018,
								0x20004,0x20004,0x40002,0x43062,
								0x44892,0x84891,0x858b1,0x858b1,
								0x858b1,0x83061,0x80001,0x80001,
								0x80001,0x80781,0x80841,0x81021,
								0x80001,0x80001,0x40001,0x40002,
								0x2001c,0x1c060,0x3080,0x840,
								0x440,0x480,0x300,0x0,
								0x0,0xf00,0x70e0,0x18018,
								0x20004,0x20004,0x40002,0x43062,
								0x44892,0x858b1,0x858b1,0x858b1,
								0x84891,0x83061,0x80001,0x80001,
								0x80001,0x80781,0x80fc1,0x81021,
								0x80001,0x80001,0x40002,0x40002,
								0x20004,0x1c018,0x2020,0x1040,
								0x880,0x880,0x700,0x0,
								0x0,0xf00,0x70e0,0x18018,
								0x20004,0x20004,0x40002,0x43062,
								0x458b2,0x858b1,0x858b1,0x84891,
								0x84891,0x83061,0x80001,0x80001,
								0x80001,0x80781,0x80fc1,0x81fe1,
								0x80001,0x80001,0x80002,0x40002,
								0x38004,0x6038,0x10c0,0x2100,
								0x2200,0x1200,0xc00,0x0,
								0x0,0xf00,0x70e0,0x18018,
								0x20004,0x20004,0x40002,0x43062,
								0x44892,0x858b1,0x858b1,0x858b1,
								0x84891,0x83061,0x80001,0x80001,
								0x80001,0x80781,0x80fc1,0x81021,
								0x80001,0x80001,0x40002,0x40002,
								0x20004,0x1c018,0x2020,0x1040,
								0x880,0x880,0x700,0x0,

								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x1fffe,0x24009,0x240e9,
								0x240e9,0x240e9,0x240e9,0x24009,
								0x23ff1,0x20001,0x20001,0x20001,
								0x22011,0x21fe1,0x20fc1,0x20781,
								0x20001,0x20001,0x1fffe,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x1fffe,0x24009,0x24709,
								0x24709,0x24709,0x24709,0x24009,
								0x23ff1,0x20001,0x20001,0x20001,
								0x20001,0x21021,0x20fc1,0x20781,
								0x20001,0x20001,0x1fffe,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x1fffe,0x24009,0x24709,
								0x24709,0x24709,0x24709,0x24009,
								0x23ff1,0x20001,0x20001,0x20001,
								0x20001,0x21021,0x20841,0x20781,
								0x20001,0x20001,0x1fffe,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x1fffe,0x24009,0x240e9,
								0x240e9,0x240e9,0x240e9,0x24009,
								0x23ff1,0x20001,0x20001,0x20001,
								0x20001,0x21021,0x20fc1,0x20781,
								0x20001,0x20001,0x1fffe,0x0,
								0x0,0x0,0x0,0x0,

								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x1f0000,
								0x208000,0x208000,0x208000,0x11fffe,
								0x1fffff,0x11fffe,0x208000,0x208000,
								0x208000,0x1f0000,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x3c003c,0x4200f0,
								0x4103c0,0x410f00,0x3f3c00,0x7f000,
								0x1e000,0x7f000,0x3f3c00,0x410f00,
								0x4103c0,0x4200f0,0x3c003c,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x3c003c,0x4200f0,
								0x4103c0,0x410f00,0x3f3c00,0x7f000,
								0x1e000,0x7f000,0x3f3c00,0x410f00,
								0x4103c0,0x4200f0,0x3c003c,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x1f0000,
								0x208000,0x208000,0x208000,0x11fffe,
								0x1fffff,0x11fffe,0x208000,0x208000,
								0x208000,0x1f0000,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,

								0x0,0x0,0x0,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x180,0x7ffc,
								0x7ffc,0x8002,0x8002,0x9112,
								0x9112,0x11111,0x11111,0x11111,
								0x11111,0x11111,0x11111,0x11111,
								0x11111,0x11111,0x9112,0x9112,
								0x9112,0x8002,0x7ffc,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x10c,0x3bc,
								0x1f0,0x3c0,0xf00,0x3c00,
								0x7ffc,0x8002,0x8002,0x9112,
								0x9112,0x11111,0x11111,0x11111,
								0x11111,0x11111,0x11111,0x11111,
								0x11111,0x11111,0x9112,0x9112,
								0x9112,0x8002,0x7ffc,0x0,
								0x0,0x6000,0x6000,0x6000,
								0x6000,0x6000,0x1e000,0x1e000,
								0x6000,0x6000,0x6000,0x6000,
								0x7ffc,0x8002,0x8002,0x9112,
								0x9112,0x11111,0x11111,0x11111,
								0x11111,0x11111,0x11111,0x11111,
								0x11111,0x11111,0x9112,0x9112,
								0x9112,0x8002,0x7ffc,0x0,
								0x0,0x0,0x0,0x0,
								0x0,0x0,0x10c,0x3bc,
								0x1f0,0x3c0,0xf00,0x3c00,
								0x7ffc,0x8002,0x8002,0x9112,
								0x9112,0x11111,0x11111,0x11111,
								0x11111,0x11111,0x11111,0x11111,
								0x11111,0x11111,0x9112,0x9112,
								0x9112,0x8002,0x7ffc,0x0};

struct place{
	int x,y;
	int what;
	int *sprite;} jack, monster[MAXMONSTER];

struct hole_place{
	int x,y;
	int direction;} hole[MAXHOLE];

MFDB jackMFDB, destMFDB;

int jumpflag=FALSE, fallflag=FALSE, knockedflag=FALSE, hitflag=FALSE;
int helpflag=FALSE;
int jumpcont=0, fallcont=0, knockedcont=0, hitcont=0;
int HOLESTEP=4, maxhole;
int holenumber, fallhole, jumphole, holelenght=32;
int monsternumber=0, MONSTEP, monsterstepnum=0;
int level=0, lives=4;
int overflag=FALSE;
int ytext;
int pxy[8]; 
int mxold, maxx, maxy;
int walk;
long score=0, hightscore=0;
char str[10];
int TheEnd=FALSE;

/* Game Shell Stuff */

OBJECT *menu, *info, *setings;

